<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Arya' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
    <script src="/javascripts/main.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
     <link rel="stylesheet" type="text/css" href="stylesheets/greedy-custom.css" media="screen">
     <link rel="stylesheet" type="text/css" href="stylesheets/greedy-custom.css" media="screen">
     <link rel="stylesheet" type="text/css" href="stylesheets/startrekbuttons.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/modalgg.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="javascripts/smoothscroll.js"></script>

<script>

var isGameIDAvailable = false;



function openNav() {

    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("hoverhelper").style.width = "0px";
    document.getElementById("main").style.marginLeft = "250px";
    
}

/* Set the width of the side navigation to 0 */
function closeNav() {
     
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("hoverhelper").style.width = "60px";
    document.getElementById("main").style.marginLeft = "0px";
}

/* Set the color to something else */
function changeColor() {
  document.getElementById("issuesInIntegration").style.color = "#f00";
}

function changeColorBack() {
  document.getElementById("issuesInIntegration").style.color = "#818181";
}


function pictureMax(objectid) {
  document.getElementById(objectid).style.width = document.getElementById(objectid).style.width * 2;
}

function pictureMin(objectid) {
  document.getElementById(objectid).style.width = document.getElementById(objectid).style.width /2;
}
</script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<div id="mySidenav" class="sidenav">
  <a class="sideclose" href="javascript:void(0)" onclick="closeNav()">&times;</a>
  

  
  <a href="#how-to-start-monetizing-with-greedygame-" class="smoothScroll">INITIAL SETUP</a>
  <a href="#native-integration-guide" class="smoothScroll" >NATIVE INTEGRATION</a>
  <a href="#cocos-integration-guide" class="smoothScroll">COCOS INTEGRATION</a>
  <a href="#unity-integration-guide" class="smoothScroll">UNITY INTEGRATION</a>
  <a href="#importanttweaksoverall" class="smoothScroll">ADDITIONAL TWEAKS</a>
  <a href="#gradledependency" class="smoothScroll">GRADLE DEPENDENCY</a>
  <a href="#proguardsettingsoverall" class="smoothScroll">PROGUARD SETTINGS</a>
  <a href="#verifying-integration" onmouseover="changeColor()" onmouseout="changeColorBack()"  id="issuesInIntegration" class="smoothScroll">ISSUES IN INTEGRATION</a>

</div>


  <title>COCOS2DX INTEGRATION GUIDE by GreedyGame</title>
  </head>
<div id="main"
  <body>
    <header>
      <div class="inner">
        <h1> COCOS2DX INTEGRATION GUIDE  </h1>
        <h2>Ads that people love !</h2>
        <a href="https://github.com/GreedyGame" class="button"><small>Follow me on</small> GitHub</a>
      </div>
    </header>
<!-- Use any element to open the sidenav -->
<button id="hoverhelper" onmouseover="openNav()" class = "myButton">MENU</button>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">

<div class="box" href="#cocos-integration-guide" id="cocos-integration-guide">
<h3>
<font size="+3"><center><a  class="anchor"  aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>COCOS INTEGRATION GUIDE</center></font></h3>


<center><h3>Download the latest GreedyGame Cocos2DX SDK from the following Github Link.</h3></center>
<center><h4><strong><a href="https://github.com/GreedyGame/cocos2dx-plugin/releases/latest"> GITHUB LINK </a></strong></h4></center>
<!--
<ul>
<li><strong><a href="#CocosBasicSetup" class="smoothScroll">BASIC SETUP</a> </strong></li>
<li><strong><a href="#CocosInitialization" class="smoothScroll">INITIALIZATION OF SDK</a> </strong></li>
<li><strong><a href="#CocosNativeAdUnits" class="smoothScroll">NATIVE UNIT INTEGRATION</a> </strong></li>
<li><strong><a href="#CocosFloatUnits" class="smoothScroll">FLOAT UNIT INTEGRATION</a> </strong></li>
<li><strong><a href="#NativeOtherUtilities" class="smoothScroll">MARSHMALLOW COMPLIANCE</a> </strong></li>
<li><strong><a href="#IAgentListener" class="smoothScroll">IMPORTANT TWEAKS</a> </strong></li>
</ul>
-->

<button class="accordion ctrl-standard typ-subhedsmall fx-bubbleDown">BASIC SETUP</button>
<div class="panel">
<div class="box2">
<p><h3><strong><a id="CocosBasicSetup" class="anchor" href="#CocosBasicSetup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>BASIC SETUP : </strong></h3></p>
<ul>
<li>Inside the SDK you downloaded from Github find the android project under Current_sdk/proj.android. Import this project to your IDE.</li>
<li>You will find a folder named Classes. In this folder you will find GreedyGameSDK.h header file which will be used by Android platform.</li>
<li>Add this to your cocos2d-x project.Put all branded assets under folder Resources/greedygame ​</li>
</ul>
<blockquote class="warningquote"> Resources/greedygame directory should only contain images and no sub-directories </blockquote>

Declare the following string in strings.xml file under the res/values folder.
<pre>&lt;resources&gt;
            &lt;string name="greedy_game_profile"&gt;<a id="gameidtext" >11111111</a>&lt;/string&gt;
    &lt;/resources&gt;</pre>
</div>
</div>


<button class="accordion ctrl-standard typ-subhedsmall fx-bubbleDown">INITIALIZATION OF SDK</button>
<div class="panel">
<div class="box2">
<p><h3><strong><a id="CocosInitialization" class="anchor" href="#CocosInitialization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>INITIALIZATION OF SDK </strong></h3></p>
<p>In your Game's Cocos Android Activity's <code> onCreate() </code> function add the following code. Make sure that this initialization is done only inside <code> onCreate() </code> and not in <code> onResume()</code> or any other activity lifecycle methods.</p>
<p><strong>Snippet 1 : </strong></p>
<pre>
        super.onCreate(savedInstanceState);
        AdsGreedyGame.setup(this, Cocos2dxGLSurfaceView.getInstance());
        AdsGreedyGame.setDebug(false);
        AdsGreedyGame.addFloatUnits("float-701");
        AdsGreedyGame.addNativeUnits("Projectile.png");
</pre>

<blockquote> use <code> addFloatUnits(String floatID) </code> and <code> addNativeUnits(String filenamewithextension) </code> for adding any number of native and float units you want in your game </blockquote>
<p><strong>Fetching Campaigns </strong>
​ In your Splash scene (very first scene of game), add following code in method <code> SplashScene::init(). </code> Where onInit and onProgress are callback functions. </p>

<pre>greedygame::GreedyGameSDK::initialize(&amp;onInit, &amp;onProgress);</pre>

<p><strong>CALLBACK FUNCTION </strong></p>

<strong>onInit</strong>

<pre>
void onInit(int event) {

    CCLog("onInit %d", event);
    /*
     * CAMPAIGN_NOT_AVAILABLE, -1 = campaign is not available<br>
     * CAMPAIGN_AVAILABLE, 1 = campaign is available
     * CAMPAIGN_DOWNLOADED, 2 = new campaign is Downloaded
     */
    int isBranded = -1;
    if (event == CAMPAIGN_AVAILABLE) {
        isBranded = 1;
    } else if (event == CAMPAIGN_NOT_AVAILABLE) {
        isBranded = 0;
    } else if (event == CAMPAIGN_DOWNLOADED) {
        isBranded = 1;
    }

    if (isBranded == 1) {
        greedygame::GreedyGameSDK::fetchAdHead("");
        CCDirector * pDirector = CCDirector::sharedDirector();
        CCScene * pScene = HelloWorld::scene();
        pDirector - replaceScene(pScene);
    }
}
</pre>


<strong><h4>onProgress</h4></strong>
<pre>
void onProgress(float f) {
    CCLog("downloadProgress &gt; : %f", f);
    ostringstream myString;
    myString &lt; &lt;
    "Loading progress " &lt; &lt;
    f &lt; &lt;
    "%";
    std::string s = myString.str();
    pLabel - &gt;
    setString(s.c_str());
}
</pre>
</div>
</div>



<button class="accordion ctrl-standard typ-subhedsmall fx-bubbleDown">NATIVE UNIT INTEGRATION</button>
<div class="panel">
<div class="box2">
<p><strong><a id="CocosNativeAdUnits" class="anchor" href="#CocosNativeAdUnits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
NATIVE UNIT INTEGRATION : </strong></p>
<p>Native branding in Cocos fits within the SDK and there is no need for additional code. Simply ensure that all units that need to be branded are inside the greedygame folder, found inside assets folder and that you are adding relevant resource names as shown in this snippet here. </p>
</div>
</div>


<button class="accordion ctrl-standard typ-subhedsmall fx-bubbleDown">FLOAT UNIT INTEGRATION</button>
<div class="panel">
<div class="box2">
<p><a id="CocosFloatUnits" class="anchor" href="#CocosFloatUnits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FLOAT UNIT INTEGRATION
<p><strong>Fetch floating units</strong></p></p>
<p>Whenever you want to add a float unit to a scene just use the following function with the float unit id generated earlier.</p>
<pre>greedygame::GreedyGameSDK::fetchAdHead("float-123"); ​</pre>

<h4 id="floatCocosCode"><font color="#2d2d2d"> Enter your float unit id </font> </h4>
    <input type="text" id="floatCocosInput" autofocus placeholder = "enter float unit id" />
    <button class="ctrl-standard typ-subhedsmall fx-bubbleDown" onclick="getFloatCodeCocos()" >Generate Code </button>

<p><a id="floatCocosCodeHolder" ></a></p>


<p><strong>Remove floating units</strong></p>
<p>Whenever you want remove a float ad from the screen just call the following function.</p>
<pre>greedygame::GreedyGameSDK::removeAdHead(); ​</pre>
</div>
</div>




<button class="accordion ctrl-standard typ-subhedsmall fx-bubbleDown">IMPORTANT TWEAKS</button>
<div class="panel">
<div class="box2">
<p><h3><a id="importanttweaks" class="anchor" href="#importanttweaks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>IMPORTANT TWEAKS : </h3></p>
<p><strong>COCOS : Exiting the Game</strong></p>

<p>If you are using any of the following function to exit from the game </p>

<ul>
<li><code>exit(0) ;</code></li>

<li><code>CCDirector::sharedDirector()-&gt;end(); </code></li>
</ul>
<p> you should make sure that you are calling the below function just before exiting </p>

<pre> greedygame::GreedyGameSDK::unInstall(); </pre> 

</div>
</div>



<button class="accordion ctrl-standard typ-subhedsmall fx-bubbleDown">PROGUARD SETTINGS</button>
<div class="panel">
<div class="box2">
<p><h3><strong><a id="proguardsettings" class="anchor" href="#proguardsettings" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PROGUARD SETTINGS</strong></h3></p>
<p> If you are using Proguard add the following to your Proguard settings. </p>
<pre>
-keep class com.greedygame.android.** { *;}

-keepattributes JavascriptInterface

-keepclassmembers class * {

    @android.webkit.JavascriptInterface ;

} 
</pre>
</div>
</div>
<!-- box div ends here-->
</div>




<div class="box" > 
<p><strong><h3><a id="mandatorymanifest" class="anchor" href="#mandatorymanifest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Mandatory Manifest Requirements</h3></strong></p>
<p>The following manifest requirements are mandatory.
</p>

<pre>
&lt;application&gt;
    &lt;!-- GreedyGame SDK&#39;s requirements start --&gt;
    &lt;activity android:name=&quot;com.greedygame.android.adhead.GGAdHeadActivity&quot; 
    android:configChanges=&quot;keyboardHidden|orientation|screenSize|screenLayout|layoutDirection&quot; 
    android:launchMode=&quot;singleTask&quot; 
    android:theme=&quot;@style/Theme.Transparent&quot;&gt;
    &lt;/activity&gt;


    &lt;receiver android:name=&quot;com.greedygame.android.agent.GreedyRefReceiver&quot; 
    android:enabled=&quot;true&quot; 
    android:exported=&quot;true&quot;&gt;
        &lt;intent-filter&gt;
            &lt;action android:name=&quot;com.android.vending.INSTALL_REFERRER&quot; /&gt;
            &lt;action android:name=&quot;android.net.conn.CONNECTIVITY_CHANGE&quot; /&gt;
            &lt;action android:name=&quot;com.greedygame.broadcast&quot; /&gt;
        &lt;/intent-filter&gt;
    &lt;/receiver&gt;
    &lt;!-- GreedyGame SDK&#39;s requirements end --&gt;
&lt;/application&gt;

</pre>
</div>




<div class="box" > 
<p><strong><h3><a id="othermanifestchanges" class="anchor" href="#othermanifestchanges" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Recommended Manifest changes</h3></strong></p>
<p>The GreedyGame SDK is connected with the activity lifecycle of your game. Generally Games works in either portrait or landscape mode for consistent user experience. Hence it is advisable not to recreate the activity on config changes which may happen due to power button press etc.
To avoid this immediate activity creation and destroying overhead, add the following configChanges in the Manifest file.

</p>
<pre>
&lt;activity
 android:name=&quot;com.package.YourActivity&quot;
 android:configChanges=&quot;keyboardHidden|orientation|screenSize|screenLayout|layoutDirection&quot;&gt;
&lt;/activity&gt;
</pre>
<p>This is an optimization . The SDK will handle all related changes if your game supports multiple orientations.
</p>
</div>



<div class="box" id="importanttweaksoverall"  href="#importanttweaks">
<p><h3><a  class="anchor"  aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>IMPORTANT TWEAKS : </h3></p>
<p><strong>COCOS : Exiting the Game</strong></p>

<p>If you are using any of the following function to exit from the game </p>

<ul>
<li><code>exit(0) ;</code></li>

<li><code>CCDirector::sharedDirector()-&gt;end(); </code></li>
</ul>
<p> you should make sure that you are calling the below function just before exiting </p>
<pre>greedygame::GreedyGameSDK::forcedexit();</pre>
</div>


<div class="box"  id="gradledependency"  href="#gradledependency" >
<p><h3><strong><a class="anchor"  aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GRADLE DEPENDENCY</strong></h3></p>
<p> Include the following gradle dependency inside your build.gradle file.
<pre>
compile 'com.greedygame.android:greedynative:8.1'
</pre>
</div>




<div class="box"  id="proguardsettingsoverall"  href="#proguardsettings" >
<p><h3><strong><a class="anchor"  aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PROGUARD SETTINGS</strong></h3></p>
<p> If you are using Proguard add the following to your Proguard settings.</p>
<pre>
-keep class com.greedygame.android.** { *;}

-keepattributes JavascriptInterface

-keepclassmembers class * {

    @android.webkit.JavascriptInterface ;

} 
</pre>
</div>



<div class="box" >
<h3><font size="+2" color="#25383C">
<a id="are-you-facing-issues-after-integration--" class="anchor" href="#are-you-facing-issues-after-integration--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><em>ARE YOU FACING ISSUES AFTER INTEGRATION ?</em>
</font></h3>

<p>If you have already integrated the SDK after going through the integration guide and still if you face trouble or if you are stuck with something then verify the integration using the following forms. </p>

<div style="text-align:center;">
<h3><font color="#25383c"
<a id="verifying-integration" class="anchor" href="#verifying-integration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>VERIFYING INTEGRATION</font></h3>
</div>




<div style="text-align:center;">
<a href="http://goo.gl/forms/4CzvlVPMf5IkXd533" ><button class="ctrl-standard typ-subhed fx-bubbleDown">VERIFY NATIVE</button></a>
    <a href="http://goo.gl/forms/gHuuDlgBczI64KMN2" ><button class="ctrl-standard typ-subhed fx-bubbleDown">VERIFY COCOS</button></a>
    <a href="http://goo.gl/forms/jUnv2yxc2NbAV5Pa2" ><button class="ctrl-standard typ-subhed fx-bubbleDown">VERIFY UNITY</button></a>
</div>
</div>

</div>
<script type="text/javascript">
        function getGameID() {

            var input = document.getElementById("gameidinput").value;
            if (input.length != 8) {
                alert("The game id that gets generated from panel.greedygame.com is 8 digits long. Please correct your game id ");
                return;
            }
           document.getElementById("gameidheading").innerHTML = "GameProfileId : " + input ;
           isGameIDAvailable = true;

           	document.getElementById('gameidtext').innerHTML = input;
           	document.getElementById('gameidtext2').innerHTML = "you can copy paste the above code directly into your strings.xml file";

        }
    </script>


    <script type="text/javascript">
        function getFloatCode() {

            var input = document.getElementById("floatInput").value;
            var pos = input.indexOf("float-");
            if (pos == -1 || pos!=0) {
                alert("The syntax for float unit that you entered is wrong. Float unit id should start with 'float-'");
                return;
            } 
           	document.getElementById('floatCodeHolder').innerHTML = "<code>floatAdLayout.fetchHeadAd(&quot"+input+"&quot)</code>";
           	

        }
    </script>


    <script type="text/javascript">
        function getFloatCodeCocos() {

            var input = document.getElementById("floatCocosInput").value;
            var pos = input.indexOf("float-");
            if (pos == -1 || pos!=0) {
                alert("The syntax for float unit that you entered is wrong. Float unit id should start with 'float-'");
                return;
            } 
           	document.getElementById('floatCocosCodeHolder').innerHTML = "greedygame::GreedyGameSDK::fetchAdHead(&quot"+input+"&quot);";
           	

        }
    </script>


<script>
//javascript for modal
// Get the modal
// Get the image and insert it inside the modal - use its "alt" text as a caption
var modal = document.getElementById('myModal');
var modalImg = document.getElementById("imgmodal");
var captionText = document.getElementById("caption");
function modalOnClick(id) {
	var clickedimg = document.getElementById(id);
    modal.style.display = "block";
    modalImg.src = clickedimg.src;
    modalImg.alt = clickedimg.alt;
    captionText.innerHTML = clickedimg.alt;
}

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}
</script>

<script>
function scrollTo(to, duration) {
    if (document.body.scrollTop == to) return;
    var diff = to - document.body.scrollTop;
    var scrollStep = Math.PI / (duration / 10);
    var count = 0, currPos;
    start = element.scrollTop;
    scrollInterval = setInterval(function(){
        if (document.body.scrollTop != to) {
            count = count + 1;
            currPos = start + diff * (0.5 - 0.5 * Math.cos(count * scrollStep));
            document.body.scrollTop = currPos;
        }
        else { clearInterval(scrollInterval); }
    },10);
}

function test(elID)
{
    var dest = document.getElementById(elID);
    scrollTo(dest.offsetTop, 500);
}
</script>

<script type="text/javascript">
/* Toggle between adding and removing the "active" and "show" classes when the user clicks on one of the "Section" buttons. The "active" class is used to add a background color to the current button when its belonging panel is open. The "show" class is used to open the specific accordion panel */
var acc = document.getElementsByClassName("accordion");
var acchide = document.getElementsByClassName("accordion-hide");
var i;
var j;

for (i = 0; i < acc.length; i++) {
    acc[i].onclick = function(){
        this.classList.toggle("active");
        this.nextElementSibling.classList.toggle("show");
    }
}
</script>

        </section>

        
      </div>
    </div>

  
  </body>
  </div>
</html>
