<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Arya' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
    <script src="/javascripts/main.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
     <link rel="stylesheet" type="text/css" href="stylesheets/greedy-custom.css" media="screen">
     <link rel="stylesheet" type="text/css" href="stylesheets/greedy-custom.css" media="screen">
     <link rel="stylesheet" type="text/css" href="stylesheets/startrekbuttons.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/modalgg.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script type="text/javascript" src="javascripts/smoothscroll.js"></script>

<script>

var isGameIDAvailable = false;



function openNav() {

    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("hoverhelper").style.width = "0px";
    document.getElementById("main").style.marginLeft = "250px";
    
}

/* Set the width of the side navigation to 0 */
function closeNav() {
     
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("hoverhelper").style.width = "60px";
    document.getElementById("main").style.marginLeft = "0px";
}

/* Set the color to something else */
function changeColor() {
  document.getElementById("issuesInIntegration").style.color = "#f00";
}

function changeColorBack() {
  document.getElementById("issuesInIntegration").style.color = "#818181";
}


function pictureMax(objectid) {
  document.getElementById(objectid).style.width = document.getElementById(objectid).style.width * 2;
}

function pictureMin(objectid) {
  document.getElementById(objectid).style.width = document.getElementById(objectid).style.width /2;
}
</script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  

  
  <a href="#how-to-start-monetizing-with-greedygame-" class="smoothScroll">Initial Setup</a>
  <a href="#verifying-integration" class="smoothScroll">Verify Integration</a>
  <a href="#native-integration-guide" class="smoothScroll" >Native Integration</a>
  <a href="#cocos-integration-guide" class="smoothScroll">Cocos Integration</a>
  <a href="#unity-integration-guide" class="smoothScroll">Unity Integration</a>
  <a href="#importanttweaks" class="smoothScroll">Additional Tweaks</a>
  <a href="#verifying-integration" onmouseover="changeColor()" onmouseout="changeColorBack()"  id="issuesInIntegration" class="smoothScroll">Issues in Integration</a>

</div>


  <title>GREEDYGAME INTEGRATION GUIDE by GreedyGame</title>
  </head>
<div id="main"
  <body>
    <header>
      <div class="inner">
        <h1> GREEDYGAME INTEGRATION GUIDE  </h1>
        <h2>Ads that people love !</h2>
        <a href="https://github.com/GreedyGame" class="button"><small>Follow me on</small> GitHub</a>
      </div>
    </header>
<!-- Use any element to open the sidenav -->
<button id="hoverhelper" onmouseover="openNav()" class = "myButton">MENU</button>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
            <div  class="box"    >
            <h2>  
           <a id="greedygame---integration-guide" class="anchor" href="#greedygame---integration-guide" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><font size="+3"><center>GREEDYGAME - INTEGRATION GUIDE</center></font></h2>
        

<a id="ads-that-people-love" class="anchor" href="#ads-that-people-love" aria-hidden="true" color="f00"><span aria-hidden="true" class="octicon octicon-link"></span></a><center>Ads that people love</center>

<h4>
<a id="how-to-start-monetizing-with-greedygame-" class="anchor" href="#how-to-start-monetizing-with-greedygame-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to start Monetizing with GreedyGame :</h4>

<p><strong>Signup :</strong> 
Go to publisher.greedygame.com and signup for a greedygame account. The account will be verified and notified in your registered mail. If you are facing any issues to signup you can always write to <a href="mailto:support@greedygame.com">support@greedygame.com</a>. </p>

<p><strong>Create a game-id :</strong> As shown in the screenshot click on AdUnit tab and press create new game. Fill in all the details. This will create a new game profile id which needs to be used at the time of
integration.</p>

<blockquote>
<p>NB: if the game is not yet in playstore then you can use a dummy URL instead of playstore URL.</p>
</blockquote>

<div style="text-align:center;">
<img src="images/guide/created-edited2.png" id="panel-created" align='middle' onload="this.width/=1.5" onclick="modalOnClick('panel-created')" alt="Publisher Panel" >
</div>

<p><strong>Identifying good ad-spots and uploading assets :</strong> Upload the textures used in your game after you create the game id. You can refer figure 2 point no. 4 for doing this. For each screen that needs a FloatAd unit create a seperate float unit by clicking on create float unit button as shown at point 3.</p>

<blockquote>
<p>NB : Note down the unit-id generated when you uploaded the textures and the float-id’s that were generated. </p>
</blockquote>

<h3>
<a id="lets-familiarize-the-following-terms" class="anchor" href="#lets-familiarize-the-following-terms" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Lets familiarize the following terms</h3>

<p><strong>Native-Units :</strong> The non clickable textures inside your game that is dynamically branded at runtime. The native unit is directly blended into the in-game textures, so as shown in the figure the size and the overall look and feel of the texture is not changed but rather the ad is blended seamlessly.

<p><strong>Float-Units :</strong> The clickable ad unit from GreedyGame. On click of this button a window opens which basically displays HTML pages. The size shape and position of the float units are dynamic which means it can always be changed from the server side.</p>

<div id="cf">
  <img class="bottom" src="images/guide/mock-with ads-edit.png" />
  <img class="top" src= "images/guide/crciket_nobrand_720.png"/>
</div>
<div style="text-align:center;">
<h4><strong> Scroll over the image to see native branding </strong></h4>
</div>
<!-- The Modal -->
<div id="myModal" class="modal">
<!-- The Close Button -->
  <span class="close" onclick="document.getElementById('myModal').style.display='none'">&times;</span>
<!-- Modal Content (The Image) -->

  <img class="modal-content" id="imgmodal">
  <div id="caption"></div>
<!-- Modal Caption (Image Text) -->
  
</div>

<script>
//javascript for modal
// Get the modal
// Get the image and insert it inside the modal - use its "alt" text as a caption
var modal = document.getElementById('myModal');
var modalImg = document.getElementById("imgmodal");
var captionText = document.getElementById("caption");
function modalOnClick(id) {
	var clickedimg = document.getElementById(id);
    modal.style.display = "block";
    modalImg.src = clickedimg.src;
    modalImg.alt = clickedimg.alt;
    captionText.innerHTML = clickedimg.alt;
}

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}
</script>

<script>
function scrollTo(to, duration) {
    if (document.body.scrollTop == to) return;
    var diff = to - document.body.scrollTop;
    var scrollStep = Math.PI / (duration / 10);
    var count = 0, currPos;
    start = element.scrollTop;
    scrollInterval = setInterval(function(){
        if (document.body.scrollTop != to) {
            count = count + 1;
            currPos = start + diff * (0.5 - 0.5 * Math.cos(count * scrollStep));
            document.body.scrollTop = currPos;
        }
        else { clearInterval(scrollInterval); }
    },10);
}

function test(elID)
{
    var dest = document.getElementById(elID);
    scrollTo(dest.offsetTop, 500);
}
</script>


<p><strong>Engagement Window :</strong> Engagement window is basically a web view activity that displays a webpage, that opens upon clicking the float unit. </p>

<div style="text-align:center;">
<img id="nativeengage" src="images/guide/engagement window.png" align='middle' onload="this.width/=1.5" onclick="modalOnClick('nativeengage')" alt="Engagement window that opens on clicking float unit">
</div>

<p><strong>Campaigns :</strong> For clarity during integration lets just think of it as active ads. Campaign is available means ads are available and Campaign Not available means ads are not available. 
                 .                            </p>

<div style="text-align:center;">
<h3>
<a   id="greedygame-helps-you-monetize-in-the-following-3-platforms-select-your-platform" class="anchor" href="#greedygame-helps-you-monetize-in-the-following-3-platforms-select-your-platform" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>GreedyGame helps you monetize in the following 3 platforms. Select your platform</h3>
</div>




<div style="text-align:center;">
  
    <a href="#native-integration-guide" ><button class="ctrl-standard typ-subhed fx-bubbleDown">NATIVE</button></a>
    <a href="#cocos-integration-guide" ><button class="ctrl-standard typ-subhed fx-bubbleDown">COCOS</button></a>
    <a href="#unity-integration-guide" ><button class="ctrl-standard typ-subhed fx-bubbleDown">UNITY</button></a>
    
    </div>
    
  
</div>





<h3><font size="+2" color="#25383C">
<a id="are-you-facing-issues-after-integration--" class="anchor" href="#are-you-facing-issues-after-integration--" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><em>ARE YOU FACING ISSUES AFTER INTEGRATION ?</em>
</font></h3>

<p>If you have already integrated the SDK after going through the integration guide and still if you face trouble or if you are stuck with something then verify the integration using the following forms. </p>

<div style="text-align:center;">
<h3><font color="#25383c"
<a id="verifying-integration" class="anchor" href="#verifying-integration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>VERIFYING INTEGRATION</font></h3>
</div>




<div style="text-align:center;">
<a href="http://goo.gl/forms/4CzvlVPMf5IkXd533" ><button class="ctrl-standard typ-subhed fx-bubbleDown">VERIFY NATIVE</button></a>
    <a href="http://goo.gl/forms/gHuuDlgBczI64KMN2" ><button class="ctrl-standard typ-subhed fx-bubbleDown">VERIFY COCOS</button></a>
    <a href="http://goo.gl/forms/jUnv2yxc2NbAV5Pa2" ><button class="ctrl-standard typ-subhed fx-bubbleDown">VERIFY UNITY</button></a>
</div>

<ul>
Remember and come back to this verification part if you face troubles after integration
<li>PROGUARD SETTINGS</li>
<li>RECOMMENDED MANIFEST CHANGE</li>
</ul>


<button class="accordion">Section 1</button>
<div class="panel">
  <p>Lorem ipsum...</p>
</div>

<button class="accordion">Section 2</button>
<div class="panel">
  <p>Lorem ipsum...</p>
</div>

<button class="accordion">Section 3</button>
<div class="panel">
  <p>Lorem ipsum...</p>
</div>






<div  class="box"    >
<h3>
<font size="+3"><center><a id="native-integration-guide" class="anchor" href="#native-integration-guide" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NATIVE INTEGRATION GUIDE</center></font></h3>

<ul>
<li><strong><a href="#native-initsdk" class="smoothScroll">INITIALIZATION OF SDK</a> </strong></li>
<li><strong><a href="#native-native-ad-units" class="smoothScroll">NATIVE AD UNIT INTEGRATION</a> </strong></li>
<li><strong><a href="#native-float-ad-units" class="smoothScroll">FLOAT AD UNIT INTEGRATION</a> </strong></li>
<li><strong><a href="#NativeOtherUtilities" class="smoothScroll">OTHER UTILITIES METHOD</a> </strong></li>
<li><strong><a href="#IAgentListener" class="smoothScroll">Interface IAgentListener</a> </strong></li>
</ul>

<h3><font size="+2">BASIC SETUP</font></h3>

<p><strong><h3>ECLIPSE :</h3></strong> If you are developing the native android project using eclipse then download the SDK from the following link and import the greedy-android-agent project and add it as a library to your project. </p>

<p><strong><h3>ANDROID STUDIO :</h3></strong>  If you are on ANDROID STUDIO then find the aar of our SDK inside android-studio-aar folder and then import it as a module and then add it as a dependency to your project.</p>

<p><strong><h3>MANIFEST REQUIREMENTS :</h3></strong>Manifest file needs to be updated as shown here</p>


<p><h3><strong>GAME PROFILE ID :</strong></h3> Put your gameprofile id generated in this step into the Android xml values as string as shown below.</p>

<h4 id="gameidheading"><font color="#2d2d2d">If you have already generated the game id from panel please enter it here</font></h4>
    <input type="text" id="gameidinput" placeholder="your game id" autofocus />
    <button class="ctrl-standard typ-subhedsmall fx-bubbleDown" onclick="getGameID()" >Generate Code </button>


<pre>&lt;resources&gt;
            &lt;string name="greedy_game_profile"&gt;<a id="gameidtext" >11111111</a>&lt;/string&gt;
    &lt;/resources&gt;</pre>

    <p><a id="gameidtext2" ></a> </p>

<p><h3><strong><a id="native-initsdk" class="anchor" href="#native-initsdk" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>INITIALIZATION OF SDK</strong></h3></p>

<p>
<strong>GreedyGameAgent - Install :</strong> Install the GreedygameAgent in splash screen activity's ( launcher activity ) onCreate() method.</p>
<p>
<pre>public static GreedyGameAgent install(Activity activity, IAgentListener agentListener);
GreedyGameAgent ggAgent = GreedyGameAgent.install(this,listener); </pre>
<p><strong>GreedyGameAgent - Callbacks From IAgentListener</strong></p>
<strong>IMPORTANT :</strong> Find the seperate section detailing about IAgentListener <strong><a href="#">HERE</a> </strong>
</p>

<strong>GreedyGameAgent - init() :</strong> Initialize GreedyGameAgent and notify it regarding the assets that you are going to use in your game.
<ul>
<li><strong>Step 1 :</strong> Create an array of units that you are using inside your game like shown below. You should be adding both the floatunits and the native units to the array. There are two ways of using the native units as shown in example 1 and 2 respectively.</li>
<li><strong>Step 2 :</strong> Call init() function of GreedyGameAgent with the string array you have created and also specify the type of download you want to use.</li>
</ul>

Example 1 : ( If you want to download the native units by ID )

<pre>String[] units = {"unit-1522","unit-1941","float-1744","float-1743"};
ggAgent.init(units, FetchType.DOWNLOAD_BY_ID);</pre>

Example 2 : (If you want to download native units by path )
<pre>
String[] units = {"sun.png","moon.png","float-1744","float-1743"};
ggAgent.init(units, FetchType.DOWNLOAD_BY_PATH);
</pre>

NOTE 
<ul>
<li>Float units are always passed with ID's. </li>
<li>For each native unit that you upload to panel.greedygame.com a particular unit-id is generated. Use those ID's while DOWNLOADING_BY_ID. </li>
<li><p>Call ggAgent.init() function only inside onCreate of your starting activity.</p></li>
</ul>
<p><h3><strong><a id="native-native-ad-units" class="anchor" href="#native-nativeadunits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NATIVE AD UNIT INTEGRATION : </strong></h3></p>

<p>During init call we did during initialization we are actually marking all assets that needs to be branded. So in case there is a campaign available, the relevent native units will be downloaded and kept at a certain folder inside the memory of the device. So all you need to do is 
Check whether a campaign is available using function 1 shown below.
If a campaign is available replace the texture as shown in <strong> snippet 1 using function 2.</strong></p>

<strong>Function 1 :</strong> <code>public String activeCampaign()</code> : <p>Returns campaign id of currently active and running campaign on device.</p>

<strong>Function 2 :</strong> <code>public String getActivePath()</code> :<p>Return path of folder, where assets of activeCampaign is stored. You can use this method to actually replace the default unit with branded texture !</p>

<p><strong>SNIPPET 1 :</strong></p>
<pre>
private Bitmap getBitmapByResName(GreedyGameAgent ggAgent, String resName) {
File file = new File(SplashScreenActivity.ggAgent.getActivePath()+ "/" + resName);
if (file.exists()) {
       return BitmapFactory.decodeFile(file.getAbsolutePath());
    }
return null;
    }
</pre>
<p>The above snippet will check if a branded unit is available with the name "resName". At runtime you can replace your default texture with the branded texture using this utility function as shown below.</p>


<p><strong>SNIPPET 2 :</strong></p>
<p>The below code snippet shows the usage of SNIPPET 1 to actually replace texture with a branded texture</p>
<pre>ImageView home = (ImageView) findViewById(R.id.player);
Bitmap bmp2 = getBitmapByResName(GreedyGameAgent.getInstance(), "unit-1941");
home.setImageBitmap(bmp2);
</pre>
<blockquote>Note : getActivePath will return null if there is no active theme</blockquote>


<p><h3><strong><a id="native-float-ad-units" class="anchor" href="#native-floatadunits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FLOAT-AD-UNIT INTEGRATION :</p></h3></strong>

<p><strong>Initializing FloatAdLayout(Context context)</strong> </p>

<p>Constructs a new instance of FloatAdLayout. Remember to add it to the current activity context as shown in the code snippet below.</p>

<pre>
FloatAdLayout floatAdLayout = new FloatAdLayout(context);
FrameLayout.LayoutParams params = new FrameLayout.LayoutParams(
LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
this.addContentView(floatAdlayout, params); 
</pre>

<p>Display float unit :  Once you have initialized floatAdLayout use the following function to display float-ad-unit.</p>

<p><strong>Function 1 :</strong> </p>
<p><code>public void fetchHeadAd(String unit_id) throws AgentInitNotCalledException</code></p>
<p>Whenever you need to display a float-unit ( clickable unit ) use this function as shown in the snippet below. ( Replace “float-100”  with the appropriate float unit in your game )</p>

<p><strong>SNIPPET 1:</strong> </p>

<pre>floatAdLayout.fetchHeadAd(“unit_id”);</pre>

<p>unit_id - Float unit id from panel.greedygame.com (e.g 'float-123')</p>


<h4 id="floatCode"><font color="#2d2d2d"> <strong>Enter your float unit id</strong> </font> </h4>
    <input type="text" id="floatInput" autofocus placeholder = "enter float unit id" />
    <button class="ctrl-standard typ-subhedsmall fx-bubbleDown" onclick="getFloatCode()" >Generate Code </button>
<p><code><a id="floatCodeHolder" ></a></code></p>


<p><strong>Remove float unit :</strong> </p>Whenever you need to hide a float-unit or if you need to load a new float unit then call the below function to remove the previous float unit from screen ! Also make sure that the new float unit that needs to be displayed is fetched after removing the previous float.</p>
    <p><pre>floatAdlayout.remove();</pre></p>


<p><h3><strong><a id="NativeOtherUtilities" class="anchor" href="#NativeOtherUtilities" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>OTHER UTILITIES METHOD : </strong></h3></p>

<p><strong>Set sdk into debug mode</strong></p>
<p><code>public void setDebugCampaign(boolean b)</code></p>

<p><strong>Enable debug logs</p></strong>
<p><code>public void setDebugLog(boolean b)</p></code>

<h3>
<font size="+2"><a id="IAgentListener" class="anchor" href="#IAgentListener" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Interface IAgentListener</font></h3>
<p>Class Overview It is used as a callback listener and is passed as an argument for GreedyGameAgent.install() method ( install method )</p>

<strong>Methods inside IAgentListener   : </strong>
<p>Callback - when GreedyGameAgent gets Initialized </p>

<pre>
void onInit(OnInitEvent response){
if(response == OnInitEvent.CAMPAIGN_NOT_AVAILABLE) {
     /* no campaign is available at the moment !
     you can proceed with the game or skip to the 
     next scene */
    } else if(response ==OnInitEvent.CAMPAIGN_AVAILABLE) {
    /*In this case the download would 
    have already begun in the background ! 
    Either you can wait till it completes 
    or you can skip to the next scene 
    and the ads will start showing as and when 
    everything gets downloaded.
}
</pre>

<p><strong>OnInitEvent enum</strong>:  contains the following values
<ul>
<li><strong> CAMPAIGN_NOT_AVAILABLE </strong> means no campaign is available </li>
<li><strong> CAMPAIGN_AVAILABLE </strong> means there is an active campaign to download or already cached in device.</li>
</ul>
</p>

<strong>Callback - when download of units get complete</strong>
<pre>
void onDownload() {
// This callback notifies that the download of assets have been completed ! 
}
</pre>
<p>Called when new branded contents are downloaded so that new scene can fetch assets from getActivePath(). This function is called after and only after onInit callback.</p>

<p><strong>Callback - when download of units fail</strong>
<pre>
void onError() {
/* This callback notifies that the download 
of assets have failed and 
no ads can be served in this session ! */</p>
}
</pre>
<blockquote>Important : both onDownload() and onError() are called only after you get a callback on onInit(). If you get CAMPAIGN_NOT_AVAILABLE in onInit() function then no further callbacks will be supplied to onSuccess and onError().</blockquote>


<p><strong>Callback - when there are unavailable permissions</strong></p>

<p><pre>void onPermissionsUnavailable(ArrayList permissions)</pre></p>
<p>This method needs to be used only if your game is targeting SDK version 23 or higher. This callback gives a list of permissions that are not available at runtime and is invoked after GreedyGameAgent initialization.</p>

<blockquote> Note : Only performs the check for 4 runtime permissions that are required by GreedyGameSDK.</blockquote>
<p><strong>Permissions that are checked :</strong></p>
<ul>
<li>Manifest.permission.ACCESS_COARSE_LOCATION</li>
<li>Manifest.permission.WRITE_EXTERNAL_STORAGE</li>
<li>Manifest.permission.GET_ACCOUNTS</li>
<li>Manifest.permission.READ_PHONE_STATE</li>
</ul>
<blockquote>Note : The above strings itself are returned in the argument if they are not available. </blockquote>


<h4><p><strong> Sample Implementation of IAgentListener</strong></p></h4>

<pre>
class GGListner implements IAgentListener{
    public void onProgress(float progress) {
        //Use this for showing progress bar
        Log.i("GreedyGame Sample", "Downloaded = "+progress+"%");
    }
    public void onDownload() {
            isBranded = true;
    }
    public void onInit(OnInitEvent response) {
        if(response == OnInitEvent.CAMPAIGN_AVAIALABLE ){
            //waiting for onDownload or onError callback ! 
        }else if(response == OnInitEvent.CAMPAIGN_NOT_AVAIALABLE ){
            isBranded = false;
        }
    }
    public void onPermissionsUnavailable(ArrayList permissions) {
    }
    public void onError() {
        isBranded = false;
    }
}
</pre>

</div>




<div class="box">
<h3>
<font size="+3"><center><a id="cocos-integration-guide" class="anchor" href="#cocos-integration-guide" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>COCOS INTEGRATION GUIDE</center></font></h3>

<ul>
<li><strong><a href="#CocosBasicSetup" class="smoothScroll">BASIC SETUP</a> </strong></li>
<li><strong><a href="#CocosInitialization" class="smoothScroll">INITIALIZATION OF SDK</a> </strong></li>
<li><strong><a href="#CocosNativeAdUnits" class="smoothScroll">NATIVE AD UNIT INTEGRATION</a> </strong></li>
<li><strong><a href="#CocosFloatUnits" class="smoothScroll">FLOAT AD UNIT INTEGRATION</a> </strong></li>
<li><strong><a href="#NativeOtherUtilities" class="smoothScroll">MARSHMALLOW COMPLIANCE</a> </strong></li>
<li><strong><a href="#IAgentListener" class="smoothScroll">IMPORTANT TWEAKS</a> </strong></li>
</ul>



<p><h3><strong><a id="CocosBasicSetup" class="anchor" href="#CocosBasicSetup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>BASIC SETUP : </strong></h3></p>
Download Android library project from Current_sdk/proj.android.
You will find a folder named Classes. In this folder you will find GreedyGameSDK.h . iOS and Android will share this header file. 
Add this to your cocos2d-x project.Put all branded assets under folder Resources/greedygame ​
<blockquote> Resources/greedygame directory should only contain images and no sub-directories </blockquote>

Declare the following string in strings.xml file under the res/values folder.
"your-game-id-without-quotes"
<p><h3><strong><a id="CocosInitialization" class="anchor" href="#CocosInitialization" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>INITIALIZATION OF SDK </strong></h3></p>
<p>In your Game's Cocos Android Activity's onCreate() function add the following code. Make sure that this initialization is done only inside onCreate() and not in onResume() or any other activity lifecycle methods.</p>
<p><strong>Snippet 1 : </strong></p>
<pre>
        super.onCreate(savedInstanceState);
        AdsGreedyGame.setup(this, Cocos2dxGLSurfaceView.getInstance());
        AdsGreedyGame.setDebug(false);
        AdsGreedyGame.addFloatUnits("float-701");
        AdsGreedyGame.addNativeUnits("Projectile.png");
</pre>

<blockquote> use addFloatUnits(String floatID) and addNativeUnits(String filenamewithextension) for adding any number of native and float units you want in your game </blockquote>
<p><strong>Fetching Campaigns </strong>
​ In your Splash scene (very first scene of game), add following code in method SplashScene::init(). Where onInit and onProgress are callback functions. </p>

<pre>greedygame::GreedyGameSDK::initialize(&amp;onInit, &amp;onProgress);</pre>

<p><strong>CALLBACK FUNCTION </strong></p>

<strong>onInit</strong>

<pre>
void onInit(int event) {
	
	CCLog( "onInit %d", event);
/*
* CAMPAIGN_NOT_AVAILABLE, -1 = campaign is not available<br>
* CAMPAIGN_AVAILABLE, 1 = campaign is available 
* CAMPAIGN_DOWNLOADED, 2 = new campaign is Downloaded
*/
int isBranded = -1;
if(event == CAMPAIGN_AVAILABLE){
  isBranded = 1;
} else if(event == CAMPAIGN_NOT_AVAILABLE){
  isBranded = 0;
} else if(event == CAMPAIGN_DOWNLOADED) {
  isBranded = 1;
}

if(isBranded == 1){
  greedygame::GreedyGameSDK::fetchAdHead("");
  CCDirector *pDirector = CCDirector::sharedDirector();
  CCScene *pScene = HelloWorld::scene();
  pDirector-replaceScene(pScene);
 }
}
</pre>


<strong><h4>onProgress</h4></strong>
<pre>
void onProgress(float f) {
    CCLog( "downloadProgress &gt; : %f", f);
    ostringstream myString;
    myString &lt;&lt; "Loading progress " &lt;&lt; f &lt;&lt;"%";
    std::string s = myString.str();
    pLabel-&gt;setString(s.c_str());
}
</pre>
<p><strong><a id="CocosNativeAdUnits" class="anchor" href="#CocosNativeAdUnits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
NATIVE AD UNIT INTEGRATION : </strong></p>
<p>Native branding in cocos are handled by the SDK itself. No additional codes need to be added. The only thing you need to make sure is that all units that needs to be branded are inside the greedygame folder inside assets folder and that you are adding those resource names as shown in this snippet here.</p>

<p><a id="CocosFloatUnits" class="anchor" href="#CocosFloatUnits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FLOAT AD UNIT INTEGRATION
<p><strong>Fetch floating units</strong></p>
<p>Whenever you want to add a float unit to a scene just use the following function with the float unit id generated earlier.</p>
<pre>greedygame::GreedyGameSDK::fetchAdHead("float-123"); ​</pre>

<h4 id="floatCocosCode"><font color="#2d2d2d"> Enter your float unit id </font> </h4>
    <input type="text" id="floatCocosInput" autofocus placeholder = "enter float unit id" />
    <button class="ctrl-standard typ-subhedsmall fx-bubbleDown" onclick="getFloatCodeCocos()" >Generate Code </button>

<p><a id="floatCocosCodeHolder" ></a></p>


<p><strong>Remove floating units</strong></p>
<p>Whenever you want remove a float ad from the screen just call the following function.</p>
<pre>greedygame::GreedyGameSDK::removeAdHead(); ​</pre>
</div>



<div class ="box">
<h3>
<font size="+3"><center><a id="unity-integration-guide" class="anchor" href="#unity-integration-guide" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>UNITY INTEGRATION GUIDE</center></font></h3>

<ul>
<li><strong><a href="#unity-basicsetup" class="smoothScroll" >BASIC SETUP</a></strong></li>
<li><strong><a href="#unity-native-unit" class="smoothScroll">NATIVE AD UNIT INTEGRATION</a></strong></li>
<li><strong><a href="#unity-float-unit" class="smoothScroll">FLOAT AD UNIT INTEGRATION</a></strong></li>
<li><strong><a href="#importanttweaks" class="smoothScroll">IMPORTANT TWEAKS</a></strong></li>
</ul>

<p><h3><strong><a id="unity-basic-setup" class="anchor" href="#unity-basicsetup" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>BASIC SETUP</strong></h3></p>

<p>
Download unity package from the following github link and import unity package into unity. 
GreedyGameConfigPrefab : As shown in the following screenshot create a GreedyGameConfigPrefab. 
</p>

<p><strong>Fill in the game id in the field.</strong></p>
<ul>
<li>In the ad-unit array add all the native and float unit ids.</li>
<li>Make sure that the isDebug box is unchecked before making game live. If isDebug is turned on it will run a test campaign.</li>
<li>Turn on isLazy load if you want the native branding get reflected in between gameplay as and when the units get downloaded.</li>
<li>Add the configured GreedyGameConfigPrefab to the loading screen. Add GreedyCampaignLoader.cs to the same scene. Make sure that you attach only one GreedyCampaignLoader to the scene.</li>
</ul>
</p>

<img id = "unityid" src="images/guide/4_link_unit_ids.png" align='middle' onload="width = this.width/=2;" onclick="modalOnClick('unityid')" alt="Setting up GreedyGameConfigPrefab">

<p><h3><a id="unity-native-unit" class="anchor" href="#unity-native-unit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>NATIVE UNIT INTEGRATION</h3></p>
<ul>
<li>Select the GameObject from your scene which uses the texture that was uploaded to the panel.</li>
<li>From Inspector panel add component AdUnit or SharedAdUnit.</li>
<li>Now you should see a component added with a yellow colour help box as shown in the screenshot.</li>
<li>Similarly repeat steps 1 and 2 for all game objects you want.</li>
</ul>

<p>You can use AdUnit and Shared AdUnit to change material and sharedMaterials.</p>

<img id = "unityadunit" src="images/guide/unity/2_attached_monobehaviour.png" align='middle' onload="width = this.width/=2;" onclick="modalOnClick('unityadunit')" alt="Attach SharedAdUnit to texture">
<img id = "unityadunit2" src="images/guide/unity/5_link_unit_ids.png" align='middle' onload="width = this.width/=2;" onclick="modalOnClick('unityadunit2')" alt="Adding the correct unit-id">

<p>In the namespace field add the appropriate native ad unit id that you have added into the GreedyGameConfigPrefab. Once you do that the yellow color will change to green which means its good to go !</p>

<p><h3><a id="unity-float-unit" class="anchor" href="#unity-float-unit" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>FLOAT UNIT INTEGRATION</h3></p>

<p>Select the scene where you need the FloatAd-Unit to be displayed. Wherever you want to fetch or hide the FloatAd-Unit, just use the following function from GreedyGame.Runtime.Common
To show FloatAd-Unit</p>

<pre> GreedyAdManager.Instance.FetchAdHead (FloatAd_ID); </pre>

<p>To remove FloatAd-Unit </p>
<pre>GreedyAdManager.Instance.RemoveAllAdHead ();</pre>



<p><h4><strong>ANDROID SETUP</strong></h4></p>

<p>[For users running a version of Unity earlier than 5.0] Navigate to Temp/StagingArea of your project directory and copy AndroidManifest.xml to Assets/Plugins/Android. Add the following tag to the AndroidManifest.xml file. And set application hardwareAccelerated=true </p>

<p><h4><strong>ADVANCED CUSTOMIZATION DOCUMENTATION</strong></h4></p>

<p><strong>Use the following imports</strong></p>

<pre>
using GreedyGame.Runtime.Common;
using GreedyGame.Platform;
</pre>
<h4>Example</h4>
<pre>
private GreedyAdManager ggAdManager = null;
void Awake(){
//Initialization as singleton
  ggAdManager = GreedyAdManager.Instance;
}
</pre>


<h4>Init</h4>

<p>Lookup for new native campaign from server.</p>
<pre>
init(String GameId, String[] AdUnits, Boolean isDebug, Boolean isLazyLoad, OnGreedyEvent)
</pre>
<ul>
<li>GameId - Unique game profile id from panel.greedygame.com</li>
<li>AdUnits - Array register unit id. eg. Unit-XYZ</li>
<li>isDebug- To build debug app for testing</li>
<li>isLazyLoad- In case of true, it will show branded assets as soon as downloaded</li>
</ul>

<h4><strong>OnGreedyEvent</strong> - Callback function for RuntimeEvent as follow:</h4>
<ul>
<li>CAMPAIGN_NOT_AVAILABLE : if currently no campaign is available.</li>
<li>CAMPAIGN_AVAILABLE : if a campaign is available and ready for download.</li>
<li>CAMPAIGN_DOWNLOADED : callback after campaign is available and assets have been downloaded.</li>
<li>CAMPAIGN_DOWNLOAD_ERROR : callback after campaign is available but failed before complete download.</li>
</ul>

<strong>Example</strong>
<pre>
void Start() {
  if (isSupported) {
    GlobalConfig[] ggLoaders = Resources.FindObjectsOfTypeAll ();
    if(ggLoaders != null &amp;&amp; ggLoaders.Length != 1){
      isSupported = false;
      Debug.LogError("None or multuple occurrence of GlobalConfig object found!");
      return;
    }
    GlobalConfig ggConfig = ggLoaders [0];
    ggAdManager.init (ggConfig.GameId, ggConfig.AdUnits.ToArray (), ggConfig.isDebug, ggConfig.isLazyLoad, OnGreedyEvent);
  }
}</pre>

<h4><strong>OnGreedyEvent</strong></h4>
<p>Callback function for RuntimeEvent</p>
<strong>Example</strong>
<pre>
void OnGreedyEvent(RuntimeEvent greedy_events){
  if (greedy_events == RuntimeEvent.CAMPAIGN_NOT_AVAILABLE || 
      greedy_events == RuntimeEvent.CAMPAIGN_DOWNLOAD_ERROR) {
  //Goto play scene if server reponse is recevied
    Application.LoadLevel (PostLevel);
  }
}</pre>

<p><h3><strong>MARSHMALLOW COMPLIANCE : </strong></h3></p>
<p><strong>CALLBACK METHOD IN GreedyAndroidAgent project WRAPPER :</strong> <code> onPermissionsUnavailable(ArrayList permissions) </code></p>

<p>This method needs to be used only if your game is targetting SDK version 23 or higher. This callback gives a list of permissions that are not available at runtime and is invoked after GreedyGameAgent initialization. ​</p>

 <blockquote> NB : Only performs check for 4 runtime permissions that are required by GreedyGameSDK. ​</blockquote> 

 <p>Permissions that are checked : ​</p>
<ul>
<p><code>Manifest.permission.ACCESS_COARSE_LOCATION</code></p>
<p><code>Manifest.permission.WRITE_EXTERNAL_STORAGE</code></p>
<p><code>Manifest.permission.GET_ACCOUNTS</code></p>
<p><code>Manifest.permission.READ_PHONE_STATE ​ </code></p>
</ul>
<blockquote> The above strings itself are returned in the argument if they are not available.</blockquote>>
</div>


<p><h3><a id="importanttweaks" class="anchor" href="#importanttweaks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>IMPORTANT TWEAKS : </h3></p>
<p><strong>COCOS : Exiting the Game</strong><p>

<p>If you are using any of the following function to exit from the game </p>

<ul>
<li><code>exit(0) ;</code></li>

<li><code>CCDirector::sharedDirector()-&gt;end(); </code></li>
</ul>
<p> you should make sure that you are calling the below function just before exiting greedygame::GreedyGameSDK::unInstall();</p>

<p><strong>NATIVE : Exiting the Game</strong><p>

<p>If you are using the following function to exit from the game </p>

<ul>
<li><code>System.exit(0);</code></li>

</ul>
<p> you should make sure that you are calling the below function just before exiting </p> 
<pre> greedyGameAgent.onActivityPaused(); </pre>

<p><h3><strong><a id="proguardsettings" class="anchor" href="#proguardsettings" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>PROGUARD SETTINGS</strong></h3></p>
<p> If you are using Proguard add the following to your Proguard settings ! </p>
<pre>
-keep class com.greedygame.android.** { *;}

-keepattributes JavascriptInterface

-keepclassmembers class * {

    @android.webkit.JavascriptInterface ;

} 
</pre>

<p><strong><h3><a id="othermanifestchanges" class="anchor" href="#othermanifestchanges" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Recommended Manifest changes</h3></strong></p>
<p>The GreedyGame SDK is connected with the activity lifecycle of your game. Generally Games works in either portrait or landscape mode for consistent user experience. Hence it is advisable not to recreate the activity on config changes which may happen due to power button press etc.
To avoid this immediate activity creation and destroying overhead, add the following configChanges in the Manifest file.

</p>

<p>This is an optimization . The SDK will handle all related changes if your game supports multiple orientations.
<strong>MANIFEST REQUIREMENTS :</strong> Add the following into the manifest of your project
</p>


<script type="text/javascript">
        function getGameID() {

            var input = document.getElementById("gameidinput").value;
            if (input.length != 8) {
                alert("The game id that gets generated from panel.greedygame.com is 8 digits long ! Please correct your game id ");
                 ggAlertDisplay('The game id that gets generated from panel.greedygame.com is 8 digits long ! Please correct your game id ');
                return;
            }
           document.getElementById("gameidheading").innerHTML = "GameProfileId : " + input ;
           isGameIDAvailable = true;

           	document.getElementById('gameidtext').innerHTML = input;
           	document.getElementById('gameidtext2').innerHTML = "you can copy paste the above code directly into your strings.xml file";

        }
    </script>


    <script type="text/javascript">
        function getFloatCode() {

            var input = document.getElementById("floatInput").value;
            var pos = input.indexOf("float-");
            if (pos == -1 || pos!=0) {
                alert("The syntax for float unit that you entered is wrong. Float unit id should start with 'float-'");
                return;
            } 
           	document.getElementById('floatCodeHolder').innerHTML = "floatAdLayout.fetchHeadAd(&quot"+input+"&quot)";
           	

        }
    </script>


    <script type="text/javascript">
        function getFloatCodeCocos() {

            var input = document.getElementById("floatCocosInput").value;
            var pos = input.indexOf("float-");
            if (pos == -1 || pos!=0) {
                alert("The syntax for float unit that you entered is wrong. Float unit id should start with 'float-'");
                return;
            } 
           	document.getElementById('floatCocosCodeHolder').innerHTML = "greedygame::GreedyGameSDK::fetchAdHead(&quot"+input+"&quot);";
           	

        }
    </script>


<script type="text/javascript">
/* Toggle between adding and removing the "active" and "show" classes when the user clicks on one of the "Section" buttons. The "active" class is used to add a background color to the current button when its belonging panel is open. The "show" class is used to open the specific accordion panel */
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
    acc[i].onclick = function(){
        this.classList.toggle("active");
        this.nextElementSibling.classList.toggle("show");
    }
}
</script>



<p>
&lt;!-- GreedyGame SDK's requirements end --&gt;
</p>
        </section>

        
      </div>
    </div>

  
  </body>
  </div>
</html>
